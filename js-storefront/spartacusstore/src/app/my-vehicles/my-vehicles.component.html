
<!-- <div class="container">
    <div *ngIf="vehicleList | async as vehicles$">
        <table class="table">
            <thead class="d-flex">
                <th class="col-4">Model</th>
                <th class="col-4">Warranty Type</th>
                <th class="col-4">Warranty Expiry Date</th>
            </thead>
            <tbody>
                <tr class="d-flex" *ngFor="let vehicle of vehicles$">
                    <td class="col-4">{{vehicle.modline}}</td>
                    <td class="col-4">{{vehicle.warrantyType}} </td>
                    <td class="col-4">{{vehicle.warrantyExpiryDate | date: 'yyyy-mm-dd'}}</td>
                </tr>
            </tbody>
        </table>
    </div>
</div> -->

<div class="my-vehicles-wrapper" [ngStyle]="{'min-height': innerHeight ? innerHeight : 'auto' }" >
    <div class="container p-0" *ngIf="vehicleList | async as vehicles$;else no_data">
        <div *ngFor="let vehicle of vehicles$; let i=index" class="box vehicle-wrapper col-12 p-0">
            <div class="d-flex justify-content-between col-11 cursor-pointer" *ngIf="!vehicleToggle[i]" (click)="vehicleToggle[i] = !vehicleToggle[i]">
                <span class="vehicle-collapse-text">{{vehicle.modline}}</span>
                <span class="text-right vehicle-collapse-text">{{vehicle.plateNumber}}
                </span>
            </div>
            <div class="col-11" *ngIf="vehicleToggle[i]">
                <div class="d-flex justify-content-between cursor-pointer" (click)="vehicleToggle[i] = !vehicleToggle[i]">
                    <span class='vehicle-open-text-header'>{{ 'vehicles.model' | cxTranslate }}</span>
                    <span class="text-right vehicle-open-text">{{vehicle.modline}}</span>
                </div>
                <div class="d-flex justify-content-between">
                    <span class='vehicle-open-text-header'>{{ 'vehicles.year' | cxTranslate }}</span>
                    <span class="text-right vehicle-open-text">{{vehicle.modyear}}</span>
                </div>
                <div class="d-flex justify-content-between">
                    <span class='vehicle-open-text-header'>{{ 'vehicles.plateNumber' | cxTranslate }}</span>
                    <span class="text-right vehicle-open-text">{{vehicle.plateNumber}}</span>
                </div>
                <div class="d-flex justify-content-between">
                    <span class='vehicle-open-text-header'>{{ 'vehicles.chasisNumber' | cxTranslate }}</span>
                    <span class="text-right vehicle-open-text">{{vehicle.chassisNumber}}</span>
                </div>
                <div *ngFor="let warranty of vehicle.warranties" class="warranty-wrapper">
                    <div class="d-flex justify-content-between">
                        <span class='vehicle-open-text-header'>{{ 'vehicles.warrantyType' | cxTranslate }}</span>
                        <span class="text-right vehicle-open-text">{{warranty.warrantyType}}</span>
                    </div>
                    <div class="d-flex justify-content-between">
                        <span class='vehicle-open-text-header'>{{ 'vehicles.warrantyExpiryDate' | cxTranslate }}</span>
                        <span class="text-right vehicle-open-text">{{warranty.warrantyExpiryDate | date: 'mediumDate'}}</span>
                    </div>
                </div>
            </div>
            <div class="col-1 p-0 cursor-pointer" (click)="vehicleToggle[i] = !vehicleToggle[i]">
                <span *ngIf="!vehicleToggle[i]" >
                    <img src="../../assets/icons/icn_rightarrow.png" alt="icn_rightarrow">
                </span>
                <span *ngIf="vehicleToggle[i]">
                    <img src="../../assets/icons/icn_dropdown.png" alt="icn_dropdown">
                </span>
            </div>


        </div>
    </div>
    <ng-template #no_data>
        <div class="text-center">
            {{ 'vehicles.noDataAvailable' | cxTranslate }}
        </div>
    </ng-template>
</div>