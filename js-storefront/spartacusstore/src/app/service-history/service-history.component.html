<div class="my-serviceHistorys-wrapper" [ngStyle]="{'min-height': innerHeight ? innerHeight : 'auto' }">
    <div class="form-group col-md-6 p-0 vehicles-wrapper">
        <label>
            <span for="name" class="label-content d-block">{{ 'serviceHistory.vehicles' | cxTranslate }}</span></label>
        <fieldset formGroupName="vehicle">
            <select #chassisNumber (change)="getChasisNumber(chassisNumber.value)" class="form-control form-control-sm d-block w-100 box-to-line"
                *ngIf="vehicleList | async as vehicles$">
                <option selected value="" disabled>{{ 'serviceHistory.selectVehicle' | cxTranslate }}</option>
                <option *ngFor="let vehicle of vehicles$ " [value]="vehicle.chassisNumber">{{vehicle.modline}}
                    ,{{vehicle.plateNumber}}</option>
            </select>
        </fieldset>

    </div>

    <div class="container p-0" *ngIf="serviceHistoryList | async as serviceHistorys$">
        <div *ngFor="let serviceHistory of serviceHistorys$; let i=index" class="box serviceHistory-wrapper col-12 p-0">
            <div class="d-flex justify-content-between col-11 cursor-pointer" *ngIf="!serviceHistoryToggle[i]" (click)="serviceHistoryToggle[i] = !serviceHistoryToggle[i]">
                <span class="serviceHistory-collapse-text">{{serviceHistory.serviceType}}</span>
                <span class="text-right serviceHistory-collapse-text">{{serviceHistory.serviceDate | date: 'mediumDate'}}
                </span>
            </div>
            <div class="col-11" *ngIf="serviceHistoryToggle[i]">
                <div class="d-flex justify-content-between cursor-pointer" (click)="serviceHistoryToggle[i] = !serviceHistoryToggle[i]">
                    <span class='serviceHistory-open-text-header'>{{ 'serviceHistory.serviceType' | cxTranslate }}</span>
                    <span class="text-right serviceHistory-open-text">{{serviceHistory.serviceType}}</span>
                </div>
                <div class="d-flex justify-content-between">
                    <span class='serviceHistory-open-text-header'>{{ 'serviceHistory.serviceDescription' | cxTranslate }}</span>
                    <span class="text-right serviceHistory-open-text">{{serviceHistory.serviceDesc}}</span>
                </div>
                <div class="d-flex justify-content-between">
                    <span class='serviceHistory-open-text-header'>{{ 'serviceHistory.serviceDate' | cxTranslate }}</span>
                    <span class="text-right serviceHistory-open-text">{{serviceHistory.serviceDate | date: 'mediumDate'}}</span>
                </div>
                <div class="d-flex justify-content-between">
                    <span class='serviceHistory-open-text-header'>{{ 'serviceHistory.serviceLocation' | cxTranslate }}</span>
                    <span class="text-right serviceHistory-open-text">{{serviceHistory.location}}</span>
                </div>
                <div class="d-flex justify-content-between">
                    <span class='serviceHistory-open-text-header'>{{ 'serviceHistory.investedAmount' | cxTranslate }}</span>
                    <span class="text-right serviceHistory-open-text">{{serviceHistory.invAmt}}</span>
                </div>
                <div class="d-flex justify-content-between">
                    <span class='serviceHistory-open-text-header'>{{ 'serviceHistory.mileage' | cxTranslate }}</span>
                    <span class="text-right serviceHistory-open-text">{{serviceHistory.mileage}}</span>
                </div>
                <!-- <div class="d-flex justify-content-between">
                    <span class='serviceHistory-open-text-header'>Location Code</span>
                    <span class="text-right serviceHistory-open-text">{{serviceHistory.locationCode}}</span>
                </div> -->
            </div>
            <div class="col-1 p-0 cursor-pointer" (click)="serviceHistoryToggle[i] = !serviceHistoryToggle[i]">
                <span *ngIf="!serviceHistoryToggle[i]" >
                    <img src="../../assets/icons/icn_rightarrow.png" alt="icn_rightarrow">
                </span>
                <span *ngIf="serviceHistoryToggle[i]">
                    <img src="../../assets/icons/icn_dropdown.png" alt="icn_dropdown">
                </span>
            </div>


        </div>
    </div>
</div>